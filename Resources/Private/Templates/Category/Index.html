<f:layout name="Backend" />

<f:section name="Title">Categories</f:section>

<f:section name="Content">
	<div class="page-header">
		<h1>Categories</h1>
	</div>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>Name</th>
				<th>Posts</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
		<f:for each="{categories}" as="category">
			<tr>
				<td>
					{category.name}
				</td>
				<td>
					<f:link.action action="index" controller="Item" arguments="{filter: {category: category}}"><span class="badge">{category.items -> f:count()}</span></f:link.action>
				</td>
				<td>
					<f:link.action action="delete" arguments="{category: category}" class="btn btn-sm btn-danger"><span class="glyphicon glyphicon-trash"></span> Delete</f:link.action>
				</td>
			</tr>
		</f:for>
		</tbody>
	</table>
	<p>
		<f:link.action action="new" class="btn btn-default"><span class="glyphicon glyphicon-plus-sign"></span> Create new category</f:link.action>
	</p>
</f:section>
