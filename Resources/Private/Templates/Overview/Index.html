<f:layout name="Backend" />

<f:section name="Title">Overview</f:section>

<f:section name="Content">
	<div class="page-header">
		<h1>Overview</h1>
	</div>

	<div class="row">
		<div class="col-md-6">
			<h2>Items</h2>
			<p>There are currently <strong>{itemCount}</strong> items (posts) from all feeds inside the planet. The most recent items:</p>
			<ul class="recent-items list-unstyled">
				<f:for each="{recentItems}" as="item">
					<li><span class="date">{item.publicationDate -> f:format.date()}</span> <f:link.action controller="Item" action="edit" arguments="{item: item}" title="{item.title}" additionalAttributes="{data-content: item.teaser}">{item.title}</f:link.action> {item.channel.name}</li>
				</f:for>
			</ul>
			<script>
				jQuery(function($) {
					$('ul.recent-items li a').popover();
				});
			</script>
		</div>
		<div class="col-md-6">
			<h2>Channels</h2>
			<p>The planet has <strong>{channelCount}</strong> channels right now. The most active channels are:</p>
			<ul class="top-channels list-unstyled">
				<f:for each="{topChannels}" as="channel">
					<li><f:link.action action="index" controller="Item" arguments="{filter: {channel: channel}}"><span class="badge">{channel.items -> f:count()}</span></f:link.action> {channel.name}</li>
				</f:for>
			</ul>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6">
			<p><f:link.action action="index" controller="Item" class="btn btn-default">Manage items &raquo;</f:link.action></p>

		</div>
		<div class="col-md-6">
			<p>
				<f:link.action action="index" controller="Channel" class="btn btn-default">Manage channels &raquo;</f:link.action>
				<f:link.action action="new" controller="Channel" class="btn btn-info"><span class="glyphicon glyphicon-plus-sign"></span> Add channel</f:link.action>
			</p>
		</div>
	</div>
</f:section>
