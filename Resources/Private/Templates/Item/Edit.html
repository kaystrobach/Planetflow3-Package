{namespace p=TYPO3\Planet\ViewHelpers}
<f:layout name="Backend" />

<f:section name="Title">Edit item</f:section>

<f:section name="Content">
	<div class="page-header">
		<h1>Edit item</h1>
	</div>
	<f:form class="form-horizontal" action="update" name="item" object="{item}" additionalAttributes='{role:"form"}'>
		<fieldset>
			<legend>Item <strong>{item.title}</strong></legend>

			<div class="form-group">
				<label class="control-label col-sm-2">Channel</label>
				<div class=" col-sm-10">
					<span class="uneditable-input form-control">{item.channel.name}</span>
				</div>
			</div>

			<div class="form-group">
				<label class="control-label col-sm-2">Universal identifier</label>
				<div class=" col-sm-10">
					<span class="uneditable-input form-control">{item.universalIdentifier}</span>
				</div>
			</div>

			<div class="form-group">
				<label class="control-label col-sm-2">Publication date</label>
				<div class=" col-sm-10">
					<span class="uneditable-input form-control">{item.publicationDate -> f:format.date(format: 'Y-m-d H:i:s')}</span>
				</div>
			</div>

			<p:controlGroup property="title">
				<label class="control-label col-sm-2" for="field-title">Title *</label>
				<div class=" col-sm-10">
					<f:form.textfield property="title" class="form-control" id="field-title" />
				</div>
			</p:controlGroup>

			<p:controlGroup property="link">
				<label class="control-label col-sm-2" for="field-link">Link *</label>
				<div class=" col-sm-10">
					<div class="input-group">
						<f:form.textfield property="link" class="form-control" id="field-link" />
						<span class="input-group-addon"><a href="{item.link}">@</a></span>
					</div>
				</div>
			</p:controlGroup>

			<p:controlGroup property="categories">
				<label class="control-label col-sm-2" for="field-categories">Categories</label>
				<div class=" col-sm-10">
					<f:form.select multiple="true" options="{categories}" optionLabelField="name" property="categories" id="field-categories" class="form-control"/>
					<p class="help-block"><span class="glyphicon glyphicon-info-sign"></span> Hold <em>Ctrl</em> or <em>Cmd</em> to select multiple categories.</p>
				</div>
			</p:controlGroup>

			<p:controlGroup property="language">
				<label class="control-label col-sm-2" for="field-language">Language</label>
				<div class=" col-sm-10">
					<f:form.textfield property="language" class="form-control" id="field-language" />
				</div>
			</p:controlGroup>

			<p:controlGroup property="author">
				<label class="control-label col-sm-2" for="field-author">Author</label>
				<div class=" col-sm-10">
					<f:form.textfield property="author" class="form-control" id="field-author" />
				</div>
			</p:controlGroup>

			<p:controlGroup property="description">
				<label class="control-label col-sm-2" for="field-description">Description</label>
				<div class=" col-sm-10">
					<f:form.textarea property="description" class="form-control" id="field-description" rows="15" cols="80" />
				</div>
			</p:controlGroup>

			<p:controlGroup property="content">
				<label class="control-label col-sm-2" for="field-content">Content</label>
				<div class=" col-sm-10">
					<f:form.textarea property="content" class="form-control" id="field-content" rows="15" cols="80" />
					<p class="help-block"><span class="glyphicon glyphicon-info-sign"></span>If the content is filled it will be used instead of the description.</p>
				</div>
			</p:controlGroup>

			<p:controlGroup property="disabled">
				<label class="control-label col-sm-2">Disabled</label>
				<div class=" col-sm-10">
					<label class="checkbox" for="field-disabled">
						<f:form.checkbox property="disabled" value="true" id="field-disabled" />
						Do not show the item on the frontpage
					</label>
				</div>
			</p:controlGroup>

			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<f:form.submit value="Update" class="btn btn-primary" />
					<f:link.action action="index" class="btn default">Cancel</f:link.action>
				</div>
			</div>
		</fieldset>
	</f:form>
</f:section>
